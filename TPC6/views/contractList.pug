extends layout 

block content 
    .w3-card-4 
        header.w3-container.w3-indigo
            h1 Lista de Contratos

        if tipo == 1
            header.w3-container.w3-teal
                h3 Contrato "#{contrato_id}" foi adicionado!

        if tipo == 2
            header.w3-container.w3-light-blue
                h3 Contrato "#{contrato_id}" foi editado!

        if tipo == 3
            header.w3-container.w3-red
                h3 Contrato "#{contrato_id}" foi removido!

    .w3-container.w3-white
        h6
                    
        .w3-container

            a.w3-btn.w3-ripple.w3-round.w3-teal(href="/registo") Adicionar Contrato
            a.w3-btn.w3-ripple.w3-round.w3-deep-purple(href="/entidades") Ver Entidades

        h6 
        .w3-container
            a.w3-btn.w3-ripple.w3-round.w3-dark-gray(href="/page/0") Inicio
            a.w3-btn.w3-ripple.w3-round.w3-gray(href="/page/" + ant_pagina) <
            .w3-btn.w3-ripple.w3-round.w3-light-gray Página #{pagina}
            a.w3-btn.w3-ripple.w3-round.w3-gray(href="/page/" + prox_pagina) >
            a.w3-btn.w3-ripple.w3-round.w3-dark-gray(href="/page/" + ultima_pagina) Fim

            table.w3-table-all 
                tr
                    th ID 
                    th Objeto
                    th Data de Celebração 
                    th Preço Contratual 
                    th NIPC Entidade Comunicante 
                    th Entidade Comunicante  
                    th Actions
                each contrato in lista 
                    tr 
                        td
                            a(href="/" + contrato._id)=contrato._id
                        td= contrato.objectoContrato 
                        td= contrato.dataCelebracaoContrato 
                        td= contrato.precoContratual
                        td
                            a(href="/entidades/" + contrato.NIPC_entidade_comunicante)=contrato.NIPC_entidade_comunicante 
                        td= contrato.entidade_comunicante 
                        td
                                a(href="/edit/" + contrato._id)
                                    i.fa.fa-edit
                                a(href="/delete/" + contrato._id)
                                    i.fa.fa-trash
